
export const allCategories = [
  // Existing expense categories
  { name: "Chợ, siêu thị", icon: "basket", color: "#f46e45" },
  { name: "Ăn uống", icon: "fast-food", color: "#f46e45" },
  { name: "Di chuyển", icon: "car", color: "#62aef7" },
  { name: "Mua sắm", icon: "cart", color: "#f6b100" },
  { name: "Giải trí", icon: "play", color: "#f78c8c" },
  { name: "Làm đẹp", icon: "cut", color: "#ef60a3" },
  { name: "Sức khỏe", icon: "heart", color: "#f5536c" },
  { name: "Từ thiện", icon: "gift", color: "#f58cd2" },
  { name: "Hóa đơn", icon: "document-text", color: "#2ec3a2" },
  { name: "Nhà cửa", icon: "home", color: "#937be1" },
  { name: "Người thân", icon: "people", color: "#f57cac" },
  { name: "Đầu tư", icon: "trending-up", color: "#4caf50" },
  { name: "Tiết kiệm", icon: "wallet", color: "#4caf50" },


  { name: "Lương", icon: "cash", color: "#28a745" },          // Xanh lá đậm
  { name: "Thưởng", icon: "medal", color: "#66BB6A" },        // Xanh lá sáng
  { name: "Tiền lãi", icon: "trending-up", color: "#29B6F6" }, // Xanh nước biển nhạt
  { name: "Tiền gửi", icon: "wallet", color: "#00ACC1" },     // Xanh cyan đậm
  { name: "Bán hàng", icon: "bag-handle", color: "#FFA726" }, // Cam đậm
  { name: "Đầu tư khác", icon: "analytics", color: "#42A5F5" }, // Xanh dương
  { name: "Quà tặng", icon: "gift", color: "#FF7043" },       // Cam san hô
  { name: "Hoàn tiền", icon: "refresh", color: "#00bcd4" },   // Xám trung tính
  { name: "Thu nhập phụ", icon: "briefcase", color: "#AB47BC" }, // Tím nhạt
  { name: "Tiền thừa", icon: "receipt", color: "#EC407A" },   // Hồng đậm
];

export const exCategories = [
  // Existing expense categories
  { name: "Chợ, siêu thị", icon: "basket", color: "#f46e45" },
  { name: "Ăn uống", icon: "fast-food", color: "#f46e45" },
  { name: "Di chuyển", icon: "car", color: "#62aef7" },
  { name: "Mua sắm", icon: "cart", color: "#f6b100" },
  { name: "Giải trí", icon: "play", color: "#f78c8c" },
  { name: "Làm đẹp", icon: "cut", color: "#ef60a3" },
  { name: "Sức khỏe", icon: "heart", color: "#f5536c" },
  { name: "Từ thiện", icon: "gift", color: "#f58cd2" },
  { name: "Hóa đơn", icon: "document-text", color: "#2ec3a2" },
  { name: "Nhà cửa", icon: "home", color: "#937be1" },
  { name: "Người thân", icon: "people", color: "#f57cac" },
  { name: "Đầu tư", icon: "trending-up", color: "#4caf50" },
  { name: "Tiết kiệm", icon: "wallet", color: "#4caf50" },
];

export const inCategories = [

  { name: "Lương", icon: "cash", color: "#28a745" },          // Xanh lá đậm
  { name: "Thưởng", icon: "medal", color: "#66BB6A" },        // Xanh lá sáng
  { name: "Tiền lãi", icon: "trending-up", color: "#29B6F6" }, // Xanh nước biển nhạt
  { name: "Tiền gửi", icon: "wallet", color: "#00ACC1" },     // Xanh cyan đậm
  { name: "Bán hàng", icon: "bag-handle", color: "#FFA726" }, // Cam đậm
  { name: "Đầu tư khác", icon: "analytics", color: "#42A5F5" }, // Xanh dương
  { name: "Quà tặng", icon: "gift", color: "#FF7043" },       // Cam san hô
  { name: "Hoàn tiền", icon: "refresh", color: "#00bcd4" },   // Xám trung tính
  { name: "Thu nhập phụ", icon: "briefcase", color: "#AB47BC" }, // Tím nhạt
  { name: "Tiền thừa", icon: "receipt", color: "#EC407A" },   // Hồng đậm
];

export const transactions = [
  { id: '1', date: '2025-06-19', title: 'Thanh toán RAU MÁ BK', category: 'Ăn uống', amount: 35000 },
  { id: '2', date: '2025-06-18', title: 'Mua nước', category: 'Ăn uống', amount: 15000 },
  { id: '3', date: '2025-06-19', title: 'Dukki', category: 'Ăn uống', amount: 500000 },
  { id: '4', date: '2025-06-17', title: 'Mua xăng', category: 'Di chuyển', amount: 80000 },
  { id: '5', date: '2025-06-16', title: 'Ăn trưa quán cơm', category: 'Ăn uống', amount: 40000 },
  { id: '7', date: '2025-06-15', title: 'Mua sách', category: 'Mua sắm', amount: 120000 },
  { id: '8', date: '2025-06-14', title: 'Mua áo thun', category: 'Mua sắm', amount: 150000 },
  { id: '10', date: '2025-06-13', title: 'Cà phê với bạn', category: 'Giải trí', amount: 60000 },
  { id: '11', date: '2025-06-12', title: 'Gửi xe tháng', category: 'Hóa đơn', amount: 100000 },
  { id: '12', date: '2025-06-11', title: 'Thanh toán Internet', category: 'Hóa đơn', amount: 200000 },
  { id: '13', date: '2025-06-11', title: 'Giveaway', category: 'Từ thiện', amount: 10000 },
  { id: '18', date: '2025-03-26', title: 'Mua xăng', category: 'Mua sắm', amount: 558983 },
  { id: '19', date: '2025-05-27', title: 'Mua đồ siêu thị', category: 'Hóa đơn', amount: 42314 },
  { id: '20', date: '2025-05-14', title: 'Thanh toán điện', category: 'Di chuyển', amount: 192163 },
  { id: '21', date: '2025-06-10', title: 'Mua cà phê', category: 'Ăn uống', amount: 484415 },
  { id: '22', date: '2025-06-14', title: 'Xem phim', category: 'Mua sắm', amount: 433168 },
  { id: '23', date: '2025-04-13', title: 'Xem phim', category: 'Từ thiện', amount: 938722 },
  { id: '24', date: '2025-06-13', title: 'Mua cà phê', category: 'Di chuyển', amount: 888362 },
  { id: '25', date: '2025-06-19', title: 'Thanh toán điện', category: 'Giải trí', amount: 236095 },
  { id: '26', date: '2025-04-26', title: 'Thanh toán điện', category: 'Di chuyển', amount: 223175 },
  { id: '27', date: '2025-05-26', title: 'Ăn sáng', category: 'Từ thiện', amount: 689078 },
  { id: '28', date: '2025-03-12', title: 'Xem phim', category: 'Ăn uống', amount: 115594 },
  { id: '29', date: '2025-04-24', title: 'Mua cà phê', category: 'Giải trí', amount: 609751 },
  { id: '30', date: '2025-05-24', title: 'Thanh toán điện', category: 'Hóa đơn', amount: 626885 },
  { id: '31', date: '2025-03-04', title: 'Mua đồ siêu thị', category: 'Mua sắm', amount: 839598 },
  { id: '32', date: '2025-06-04', title: 'Ăn sáng', category: 'Từ thiện', amount: 386993 },
  { id: '33', date: '2025-04-14', title: 'Thanh toán điện', category: 'Ăn uống', amount: 663259 },
  { id: '34', date: '2025-04-24', title: 'Xem phim', category: 'Từ thiện', amount: 635542 },
  { id: '35', date: '2025-04-25', title: 'Mua cà phê', category: 'Từ thiện', amount: 498357 },
  { id: '36', date: '2025-06-09', title: 'Mua xăng', category: 'Di chuyển', amount: 514720 },
  { id: '37', date: '2025-03-12', title: 'Mua xăng', category: 'Từ thiện', amount: 458425 },
  { id: '38', date: '2025-05-06', title: 'Mua đồ siêu thị', category: 'Di chuyển', amount: 740588 },
  { id: '39', date: '2025-03-09', title: 'Mua đồ siêu thị', category: 'Mua sắm', amount: 804244 },
  { id: '40', date: '2025-03-13', title: 'Mua cà phê', category: 'Di chuyển', amount: 871859 },
  { id: '41', date: '2025-05-13', title: 'Mua xăng', category: 'Hóa đơn', amount: 146157 },
  { id: '42', date: '2025-05-20', title: 'Mua cà phê', category: 'Giải trí', amount: 613896 },
  { id: '43', date: '2025-06-13', title: 'Mua đồ siêu thị', category: 'Hóa đơn', amount: 305797 },
  { id: '44', date: '2025-03-19', title: 'Mua cà phê', category: 'Di chuyển', amount: 453831 },
  { id: '45', date: '2025-05-30', title: 'Ăn sáng', category: 'Từ thiện', amount: 201676 },
  { id: '46', date: '2025-06-03', title: 'Mua cà phê', category: 'Ăn uống', amount: 403929 },
  { id: '47', date: '2025-05-03', title: 'Xem phim', category: 'Giải trí', amount: 143126 },
  { id: '48', date: '2025-05-13', title: 'Ăn sáng', category: 'Ăn uống', amount: 337030 },
  { id: '49', date: '2025-03-19', title: 'Xem phim', category: 'Từ thiện', amount: 898160 },
  { id: '50', date: '2025-06-08', title: 'Xem phim', category: 'Từ thiện', amount: 964496 },
  { id: '51', date: '2025-03-10', title: 'Mua đồ siêu thị', category: 'Giải trí', amount: 692641 },
  { id: '52', date: '2025-06-02', title: 'Mua xăng', category: 'Di chuyển', amount: 494692 }, 
];

export const income = [

  // Giao dịch "Thu"
  { id: '14', date: '2025-06-20', title: 'Lương tháng 6', category: 'Lương', amount: 12000000 },
  { id: '15', date: '2025-06-18', title: 'Thưởng hiệu suất', category: 'Thưởng', amount: 2000000 },
  { id: '16', date: '2025-06-10', title: 'Lương freelance', category: 'Lương', amount: 3000000 },
  { id: '17', date: '2025-06-05', title: 'Thưởng lễ', category: 'Thưởng', amount: 1000000 },
  { id: '100', date: '2025-03-02', title: 'Tiền lãi gửi ngân hàng', category: 'Tiền lãi', amount: 6267314 },
  { id: '101', date: '2025-06-07', title: 'Tiền mừng sinh nhật', category: 'Quà tặng', amount: 3501586 },
  { id: '102', date: '2025-04-04', title: 'Lương trợ giảng', category: 'Lương', amount: 6948163 },
  { id: '103', date: '2025-05-19', title: 'Thưởng dự án', category: 'Thưởng', amount: 6271661 },
  { id: '104', date: '2025-05-04', title: 'Tiền lãi đầu tư', category: 'Tiền lãi', amount: 6306509 },
  { id: '105', date: '2025-04-25', title: 'Tiền lì xì', category: 'Quà tặng', amount: 9422381 },
  { id: '106', date: '2025-03-03', title: 'Bán sách cũ', category: 'Bán hàng', amount: 5308726 },
  { id: '107', date: '2025-03-25', title: 'Thu nhập chạy Grab', category: 'Thu nhập phụ', amount: 8012472 },
  { id: '108', date: '2025-04-26', title: 'Thu nhập phụ vẽ design', category: 'Thu nhập phụ', amount: 5613505 },
  { id: '109', date: '2025-04-04', title: 'Lợi nhuận chứng khoán', category: 'Đầu tư khác', amount: 6511079 },
  { id: '110', date: '2025-05-24', title: 'Thưởng quý', category: 'Thưởng', amount: 6598077 },
  { id: '111', date: '2025-03-21', title: 'Tiền khách boa', category: 'Tiền thừa', amount: 9794473 },
  { id: '112', date: '2025-06-02', title: 'Gửi tiết kiệm đáo hạn', category: 'Tiền gửi', amount: 6927074 },
  { id: '113', date: '2025-03-06', title: 'Tiền lãi cổ phiếu', category: 'Đầu tư khác', amount: 6137300 },
  { id: '114', date: '2025-04-23', title: 'Hoàn tiền Shopee', category: 'Hoàn tiền', amount: 8392103 },
];

export const iconList = [
  { icon: "restaurant", color: "#FF6B6B" },
  { icon: "cafe", color: "#F8EFBA" },
  { icon: "cart", color: "#FFD93D" },
  { icon: "car", color: "#4ECDC4" },
  { icon: "bicycle", color: "#74B9FF" },
  { icon: "bus", color: "#81ECEC" },
  { icon: "train", color: "#00A8FF" },
  { icon: "airplane", color: "#FDCB6E" },
  { icon: "cash", color: "#00B894" },
  { icon: "wallet", color: "#2ECC71" },
  { icon: "home", color: "#6C5CE7" },
  { icon: "bed", color: "#B2BEC3" },
  { icon: "briefcase", color: "#636E72" },
  { icon: "gift", color: "#F8C291" },
  { icon: "game-controller", color: "#F67280" },
  { icon: "heart", color: "#E5989B" },
  { icon: "medkit", color: "#FF7675" },
  { icon: "leaf", color: "#00B894" },
  { icon: "water", color: "#3DC1D3" },
  { icon: "flash", color: "#FDA7DF" },
  { icon: "snow", color: "#74B9FF" },
  { icon: "tv", color: "#2C3A47" },
  { icon: "book", color: "#55EFC4" },
  { icon: "school", color: "#9980FA" },
  { icon: "barbell", color: "#E84393" },
  { icon: "fitness", color: "#D63031" },
  { icon: "walk", color: "#00CEC9" },
  { icon: "paw", color: "#FAB1A0" },
  { icon: "balloon", color: "#E17055" },
  { icon: "beer", color: "#E58E26" },
  { icon: "wine", color: "#B53471" },
  { icon: "musical-notes", color: "#A3CB38" },
  { icon: "camera", color: "#2D3436" },
  { icon: "image", color: "#BDC581" },
  { icon: "trophy", color: "#EAB543" },
  { icon: "star", color: "#F9CA24" },
  { icon: "planet", color: "#7ED6DF" },
  { icon: "globe", color: "#2C3A47" },
  { icon: "calendar", color: "#E84393" },
  { icon: "alarm", color: "#F97F51" },
  { icon: "call", color: "#2C2C54" },
  { icon: "chatbubble", color: "#3B3B98" },
  { icon: "mail", color: "#BDC3C7" },
  { icon: "clipboard", color: "#A29BFE" },
  { icon: "document-text", color: "#A29BFE" },
  { icon: "shield", color: "#E17055" },
  { icon: "bug", color: "#D980FA" },
  { icon: "cloud", color: "#A3CB38" },
  { icon: "umbrella", color: "#00CEC9" },
  { icon: "flame", color: "#FF6F61" },
  { icon: "pricetag", color: "#F9A825" },      // Gắn với giảm giá, khuyến mãi
  { icon: "construct", color: "#6D214F" },
];




  export function getChartData(currentMonth: string) {
  const filteredTransactions = transactions.filter((tx) =>
    tx.date.startsWith(currentMonth)
  );

  const totalExpense = filteredTransactions.reduce(
    (sum, tx) => sum + tx.amount,
    0
  );

  const pieDataRaw = filteredTransactions.reduce((acc, tx) => {
    const existing = acc.find((item) => item.name === tx.category);
    if (existing) {
      existing.amount += tx.amount;
    } else {
      acc.push({ name: tx.category, amount: tx.amount });
    }
    return acc;
  }, [] as { name: string; amount: number }[]);

  pieDataRaw.sort((a, b) => b.amount - a.amount);

  const topItems = pieDataRaw.slice(0, 4);
  const otherItems = pieDataRaw.slice(4);

  const chartWithPercent = topItems.map((item) => {
    const cat = allCategories.find((c) => c.name === item.name);
    const percent = ((item.amount / totalExpense) * 100).toFixed(0);
    return {
      name: item.name,
      amount: item.amount,
      percent,
      icon: cat?.icon,
      color: cat?.color ?? "#ccc",
    };
  });

  if (otherItems.length > 0) {
    const otherAmount = otherItems.reduce((sum, item) => sum + item.amount, 0);
    const otherPercent = ((otherAmount / totalExpense) * 100).toFixed(0);
    chartWithPercent.push({
      name: "Còn lại",
      amount: otherAmount,
      percent: otherPercent,
      icon: "grid",
      color: "#ccc",
    });
  }

    return { chartWithPercent, totalExpense };
  }